>`0,0,#f0f,Caves


var myfunc = import c/functions
var aether = 0
var moondialTimer = 0
var swordtime = 0
var AetherDelay = 20
var swordtime = 0
var yep = 1


// ?foe = cool_bat
//   activate potion

// ?foe = cool_bat & foe.distance < 12
//   ?foe.hp > 30
//     equipL vigor hammer D
//     equipR ice sword
//   :
//     equipL talisman
//     equipR xp

?loc.begin
  swordtime = 0
  brew stone + bronze

?pickup.distance <= 6
  myfunc.CanPickup()

:?loc.loop
  swordtime = 0
  aether = 0

:?summon.GetId() ! "voidweaver" & foe ! boss & item.CanActivate() & item.GetCooldown("quarterstaff") > 0 & totaltime < 200
  equipR aether talisman
  equipL triskelion
  activate R

:?summon.GetId() ! "cinderwisp"
^ & foe ! boss & item.CanActivate() & screen.i = 6
  equipR fire talisman
  equipL triskelion
  activate R

:?foe ! boss
  ?foe.distance < 13 & item.GetCooldown("blade") <= 0 & buffs.GetCount("smite") = 0 & screen.i = 4
    myfunc.BFG()

  :?foe.distance < 10 & aether = 0 & screen.i = 3 & yep = 1
    activate voidweaver
    aether++

  :?foe.distance > 14
    myfunc.QuarterUse()
    equipR ice shield ai
    equipL triskelion

  :?foe.distance <= 14 & foe.distance >= 12 & screen.i ! 5
    myfunc.Dashing()

  :?foe.distance <= 14 & foe.distance >= 12 & screen.i = 5
    equipR dashing shield
    equipL triskelion

  :?foe.distance < 12
    equip skeleton arm

:?foe = boss
  ?foe = Bolesh & item.GetCooldown("mask") <= 0 & foe.distance < 30 & item.CanActivate() & buffs.GetCount("smite") > 0
    equipR mask
    equipL triskelion
    activate R

  :?foe.distance > 16
    myfunc.QuarterUse()
    equipR ice shield ai
    equipL triskelion

  :?foe.distance <= 16 & foe.distance >= 12
    myfunc.Dashing()

  :?foe.distance < 12
    ?item.potion ! empty & item.potion = lucky & foe = Bolesh
      activate potion
    
    :?foe.state = 142 & foe.time = 60
      equip mind
    
    ?foe = Bolesh
    /*
      ?swordtime % 8 < 4
        equipR ice sword D shiny
        equipL ice sword D -shiny
        swordtime++
      :
        equipR ice sword D -shiny
        equipL ice sword D shiny
        swordtime++
    : 
      ?swordtime % 8 < 4
        equipR ice sword D shiny
        equipL ice sword D -shiny
        swordtime++
      :
        equipR ice sword D -shiny
        equipL ice sword D shiny
        swordtime++
        */
      moondialTimer++
      ?moondialTimer%3=1
        equipL moon
        equipR ice sword D shiny -long
      :?moondialTimer%3=2
        equipL moon
        equipR ice sword D -shiny -long
      :
        equipL ice sword D -shiny -long
        equipR ice sword D shiny -long
    :
      moondialTimer++
      ?moondialTimer%3=1
        equipL moon
        equipR ice sword D shiny -long
      :?moondialTimer%3=2
        equipL moon
        equipR ice sword D -shiny -long
      :
        equipL ice sword D -shiny -long
        equipR ice sword D shiny -long


  